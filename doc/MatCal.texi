\input texinfo @c -*-texinfo-*-
@setfilename MatCal.info
@documentencoding UTF-8
@set PROGNAME Yet Another Matrix Calculator
@set AUTHOR Zecheng Li
@include version.texi
@settitle @value{PROGNAME} @value{VERSION}
@xrefautomaticsectiontitle on

@copying
This manual is for @value{PROGNAME} (@value{VERSION})
Copyright @copyright{} 2023 @value{AUTHOR}.

@quotation
Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with the Front-Cover texts being ``A GNU Manual,'' and with the
Back-Cover Texts as in (a) below.  A copy of the license is included in the
section entitled ``GNU Free Documentation License.''

(a) The FSF's Back-Cover Text is: ``You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom.''
@end quotation
@end copying

@dircategory Science Software

@titlepage
@title @value{PROGNAME}

@author by @value{AUTHOR}
@c @page
@c @insertcopying
@end titlepage

@contents

@ifnottex
@node Top
@top @value{PROGNAME}
@insertcopying
@end ifnottex

@menu
* Introduction::          What "@value{PROGNAME}" is.
* Copying::               The GNU General Public License says how
                          you can copy and share.

* Building::

@c Tutorial sections:
@c * Concepts::              Basic concepts for understanding it works.
@c * Examples::              Simple explained examples of using it.

@c Reference sections:
@c * Grammar::               About declarations rules and keywords
@c * Expressions::           Supported operators
@c * Functions::             Supported functions
@c * Types::                 Ty
@c * User interface::        Use command line and readline

@end menu

@node Introduction
@chapter Introduction
@cindex introduction

@code{./CLI} [ -hfv ] [ @var{file} ]

This is an interpreter of a language that support some functions with
interactive execution of statements. It has some similarities
in the syntax to Octave (MATLAB) such as the declaration of matrix. Some
of test file's commands are fully support by Octave (@file{test/100x100}).

@menu
* Command Line Options::
* Reporting Bugs::
@end menu

@node Reporting Bugs
@section Reporting Bugs
This project is still in developing, so you may find lots of issues.
Email bug reports to @email{lzecheng98@@gmail.com}.

When reporting a bug, please include the following information:
@itemize @bullet

@item
The version number of @value{PROGNAME}

@item
The machine and OS that it is running on @code{uname -a}

@item
A recipe for recreating the bug reliably (Your input)

@item
A fix for the bug if you have one!!!
@end itemize

@node Command Line Options
@section Command Line Options
@command{CLI} takes the following options from the command line:
@table @code

@item -h
Print the usage and quit.

@item -f [ @var{file} ]
Read from the @b{file} instead of @b{stdin} and then quit.

@item -v
Print the version number and copyright, and then quit.

@end table

@node Building
@chapter Building
@cindex Building

@menu
* On Unix-like environment::
* On Windows::
@end menu

@node On Unix-like environment
@section On Unix-like environment
To avoid some common problems when building, please read through this section
before you compile. For most people the easiest way to try this software is to
download from
@url{https://github.com/bajzc/Matrix_calculator/releases,,Github release page}.

This project relays on the GNU Autotools building system, so you must have
installed the tools on you system.

If you do not have the
@url{https://tiswww.case.edu/php/chet/readline/rltop.html,,readline},
@url{https://www.gnu.org/software/bison/,,bison} and
@url{https://github.com/westes/flex,,flex} already installed on your system, you
can use your OS package manager to install if they are sufficiently recent
versions. Alternative, go to the official website (as provided above) for more
information.
@menu
* Configure::
* Make::
* Run::
@end menu

@node Configure
@subsection Configure
If you download the release tarball, run @command{./configure} from the root directory.

The files in the Github repository do not contain "configure". You must run
@command{sh ./autogen.sh}, before @command{./configure}. This runs several autotools,
so you must have those commands installed in order to do this.

People who downloaded source code are more likely to compile this TOY in their
own way. And the usual way of changing defaults should be like this:

@code{CC=clang CFLAGS='-O3 -Wall -g -pg' ./configure}

This command specifies compiler and the flags it should run with.

For more information, see @code{./configure --help}

@node Make
@subsection Make
Once @code{./configure} has run, you can run @command{make}. This will build the
project. So far, no test suit is provided.

@table @code
@item make
@item make all
Building programs, documentation (@file{MatCal.info})

@item make clean
Erase files produced by @code{make all}, such as @file{*.o} and @file{CLI}.

@item make pdf
Build the pdf version of documentation, but require TeX installed.

@end table

@node Run
@subsection Run
Simply issue @code{./src/CLI} at the root directory.

@xref{Command Line Options}.

@node On Windows
@section On Windows
To make life easier, you can download from Github release page named by "CLI-x86_64-windows..."

Or if you really want to compile it on Windows, Install @url{https://www.msys2.org/,,Msys2},
Open "MSYS2 MINGW64", install dev-environmental tools by issuing:

@code{pacman -S mingw-w64-x86_64-autotools mingw-w64-x86_64-gcc mingw-w64-x86_64-readline autoconf-archive bison flex}

And base on Msys2 shell, follow the instruction @xref{On Unix-like environment}.

@node Copying
@unnumbered GNU GENERAL PUBLIC LICENSE
@include gpl-3.0.texi

@bye
